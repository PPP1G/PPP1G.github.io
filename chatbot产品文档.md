# Chatbot产品文档

职责表

| 角色         | 姓名                     |
| ------------ | ------------------------ |
| 产品经理     | 张俊；傅齐锋             |
| 前端工程师   | 戴利刚                   |
| 后端工程师   | 殷懿                     |
| 算法         | 李晨                     |
| 其他参与人员 | 刑璐；曹斌；金琦；殷理想 |

# 产品简介

聊天机器人，在装配相应的行业领域知识后，可进行对话问答。

主要目标，解决各个行业中的问答、引导等业务场景所带有的人力耗费问题。

所需材料：

- 结构化行业知识
- 行业话术 

现阶段业务方：老司机微信运行客服

# 1、用户视角

​	老司机客服：对其用户关于汽车领域的提问进行回复。需要根据其自身具备知识进行回复，如果问题超出其知识范围，则需要查询老司机知识库及上网搜索相应知识，进行答复。

​	老司机微信运营：在其所负责的微信群内，时常会出现一些希望老司机方能提供回答的问题，由于群数量过，及回复时间的不确定性。老司机微信运营人员无法做到对大部分问题的回复。

# 2、用户画像

- 文轩是老司机客服团队中的一员，负责对一部分老司机官方微信账号（有几十个）的客服工作，负责用户私聊这些微信账号的回复，私聊内容多为关于汽车领域的提问。
- 文涛是老司机微信运营团队的一员，负责一部分老司机微信群（2019年底预计达到2000个）的运营工作，负责群活跃，活动预告，群内问题答复等事项。

# 3、使用场景

- 客服回复场景

  客服文轩在老司机客服工作台打开每一位前来咨询的用户的聊天窗口，提问数据自动传到艾耕聊天机器人后台，然后将推荐答案返回至客服工作台，文轩可以选择直接复制答案发送给用户，或者复制后稍作编辑再发送给用户。

- 微信群回复场景

  运营人员文涛将艾耕聊天机器人嵌入至所运营的微信群，当接受到群内成员对其进行@并提问的时候，该数据会传到聊天机器人后台，并生成答案直接回复，此类回复由于未经文涛确认当即发送，所以需要设置相应话术，避免回复不当引起不必要的问题。

# 4、目标与非目标

### 4.1目标

| 目标               | 优先级 |
| ------------------ | ------ |
| 支持汽车领域的问答 | PO     |
| 支持日常问候的回复 | P1     |

### 4.2非目标

| 非目标                                     |
| ------------------------------------------ |
| 不需要支持超出汽车领域及日常问候之外的回复 |

# 5、用户界面

嵌入式服务，只需要提供相应的服务接口即可，不需要提供用户界面

# 6、系统架构

![chatbot业务架构](chatbot产品文档/image/chatbot业务架构.png)

备注：

- NLU+问题分类器：负责实体抽取+意图分类
  - query只涉及`品牌`，则只输出`品牌`+意图
  - query涉及`车系`，则根据推断，补全`品牌+车系`+意图
  - query涉及`车型`，则根据推断，补全`品牌+车系+车型`，给出候选车型列表+意图
  - query未涉及`品牌+车系+车型`中的任何一个字段，则进入QA匹配
- 数据前处理：负责确定TE的输入or直接截断
  - 输入到`车系`的级别，则依据车型推荐的逻辑，选出相应的代表车型，输出至TE：`品牌+车系+车型`。
  - 输入到`品牌`级别，则直接输出最终答案：“对不起，请问您具体想问哪款车？”
  - 输入到`品牌+车系`+`车型的标`签，则对`品牌+车系`和`车型的标签`进行逻辑判断。
        - 如果存在该车，则根据车型推荐逻辑确定唯一的车，输入到TE
        - 如果该车不存在，则输出：“对不起，您所问的车不存在，请确认一下信息是否正确。”

# 7、功能需求

| 需求 | 优先级                                        | 优先级 |
| ---- | --------------------------------------------- | ------ |
| 1    | 整理所有汽车领域提问意图                      | P0     |
| 2    | 构建NLU模块，实现意图分类和实体识别           | P0     |
| 3    | 构建QA模块，支持对客观类问题的回复            | P1     |
| 4    | 构建QA知识库，收集QA类问题的问答对            | P0     |
| 5    | 构建MGC回复模块，支持对涉及车型参数的问题回复 | P1     |
| 6    | 构建工作流，将各模块串接，并支持分节点调试    | P0     |

# 8、合作伙伴

| 合作伙伴 | 类型 | 详情                   |
| -------- | ---- | ---------------------- |
| 老司机   | 甲方 | 需求描述和行业知识支持 |

